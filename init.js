handleStorage("get","currentVersion","",e=>{e=e?"Version: "+e:"Unknown Version",console.log(`%c This page has been optimized by ChatGPT Optimizer (${e})%s`,"font-size: 12px; color: white; background-color: #212933; padding: 5px; border-radius: 5px; font-family: sans-serif","%s\n\n 🐛 bug report: https://productivity.rocks/tool/ai-optimizer/bug-report/ ","%s\n\n ⭐️ rate: https://productivity.rocks/tool/ai-optimizer/rate/ ","\n\n 🌐 website: https://productivity.rocks/tool/ai-optimizer/ ")}),window.addEventListener("load",()=>{try{observeAll(),updateActionElements(),updatePageActionElements(),initNavBarToggleState(),addNavBarToggle(),addDocumentUpload(),addScrollToLatestButton(),setChatDeletion(),addInputMaxLength(),setQuickPrompts(),setMessageDelete(),setMessageWidthRange(),addPromptAreaExpand(),toggleChatBlurForPresentation(),setThumbSelector()}catch(e){console.error("An error occurred while executing the code:",e)}});const observerConfig={childList:!0,subtree:!0},observerCallback=function(e,t){for(var r of e)if("childList"===r.type){var o=document.querySelector(selNavToggleParent);if(null!==o){if(null===o.querySelector("#navToggler"))try{addNavBarToggle()}catch(e){console.error("Error in addNavBarToggle:",e)}if("none"!==document.querySelector(".gpto-clear-conversations")?.style.display)try{updatePageActionElements()}catch(e){console.error("Error in updateActionElements:",e)}}if(r.addedNodes[0]==document.querySelector("div.overflow-hidden.w-full.h-full.relative"))try{updateActionElements(),updatePageActionElements(),addDocumentUpload(),addScrollToLatestButton(),setChatDeletion(),addInputMaxLength(),setQuickPrompts(),setMessageDelete(),addPromptAreaExpand(),toggleChatBlurForPresentation(),setThumbSelector()}catch(e){console.error("An error occurred while executing the code:",e)}r.addedNodes[0]!=document.querySelector("div.w-full.border-b.border-black\\/10.dark\\:border-gray-900\\/50.text-gray-800.dark\\:text-gray-100.group.dark\\:bg-gray-800")&&r.target!=document.querySelector("div.flex.flex-col.items-center.text-sm.dark\\:bg-gray-800")||(setMessageDelete("onLatest"),setThumbSelector(),setChatDeletion()),r.addedNodes[0]!=document.querySelector("div.w-full.border-b.border-black\\/10.dark\\:border-gray-900\\/50.text-gray-800.dark\\:text-gray-100.group.bg-gray-50")&&r.target!=document.querySelector("div.flex.flex-col.items-center.text-sm.dark\\:bg-gray-800")||updateActionElements()}};function observeAll(){var e=document.querySelector("body");new MutationObserver(observerCallback).observe(e,observerConfig)}